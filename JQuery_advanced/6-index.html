<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8" />
    <title>Task 3</title>
    <script
            src="https://code.jquery.com/jquery-3.6.4.min.js"
            integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
            crossorigin="anonymous">
    </script>
    <style>
        td.remove {
            background-color: orange;
            color: white;
            cursor: pointer;
        }
        select {
            background-color: white !important;
            font-size: 11px !important;
            background: url('https://cdn3.iconfinder.com/data/icons/trico-arrows-1/24/ExpandUpDownSmall-512.png') no-repeat right #4bae4b;
            background-position: 100%;
            margin-left: 3px;
            margin-right: 3px;
            padding: 2px 28px 2px 3px;
            background-size: 14px;
            -moz-appearance: none;
            -webkit-appearance: none;
            outline: none !important;
            -webkit-border-radius: 2px;
            border: 1px  solid #cccccc;
        }
        select option {

        }
    </style>
</head>

<body>
    <script type="application/javascript">
        function createFamilyTree() {
            const table = $("<table>");
            const header = $('<thead>').append($('<tr>').append($('<th>').text('Firstname'), $('<th>').text('Lastname')));
            const body = $('<tbody>');
            $('body').append(table.append(header, body));
        }

        function addNewMember(firstName, lastName, position) {
            const row = $('<tr>');
            row.append($('<td>').text(firstName), $('<td>').text(lastName));
            const removeBtn = $('<td>').text('(x)').addClass('remove').click(function() {
                row.remove();
            });
            row.append(removeBtn);

            if (position === 'before') {
                $('tbody').prepend(row);
            } else {
                $('tbody').append(row);
            }
        }

        function createForm() {
            const form = $('<form>');
            const firstNameInput = $('<input>').attr('type', 'text').attr('name', 'firstName').attr('placeholder', 'First name');
            const lastNameInput = $('<input>').attr('type', 'text').attr('name', 'lastName').attr('placeholder', 'Last name');
            const positionSelect = $('<select>').attr('name', 'position');
            const beforeOption = $('<option>').attr('value', 'before').text('Before');
            const afterOption = $('<option>').attr('value', 'after').text('After');
            positionSelect.append(beforeOption, afterOption);
            const submitBtn = $('<input>').attr('type', 'submit').val('Add member');
            form.append(firstNameInput, lastNameInput, positionSelect, submitBtn);

            form.submit(function(event) {
                event.preventDefault();
                const firstName = firstNameInput.val();
                const lastName = lastNameInput.val();
                const position = positionSelect.val();
                addNewMember(firstName, lastName, position);
                firstNameInput.val('');
                lastNameInput.val('');
            });

            $('body').prepend(form);
        }

        createFamilyTree();
        createForm();
        addNewMember('Guillaume', 'Salva', 'after');
        addNewMember('Arielle', 'Snizt', 'after');
        addNewMember('Fanette', 'Snizt', 'before');
        addNewMember('Gerard', 'Snizt', 'after');
        addNewMember('Victor', 'Salva', 'before');
    </script>
</body>

</html>
